# SmartTransit Predictor - 데모 가이드

## 🚀 프로토타입 실행 방법

### 1. 패키지 설치
```bash
npm install
```

### 2. 서버 실행
```bash
# 백엔드와 프론트엔드 동시 실행
npm run dev

# 또는 개별 실행
npm run server  # 백엔드만 실행 (포트 3001)
npm run client  # 프론트엔드만 실행 (포트 3000)
```

### 3. 브라우저 접속
- 프론트엔드: http://localhost:3000
- 백엔드 API: http://localhost:3001/api/health

---

## 📱 주요 기능 데모 시나리오

### 🏠 대시보드
**경로**: http://localhost:3000/

**주요 기능**:
- 서울 지하철 2호선 주요 역(강남, 홍대입구, 건대입구, 잠실)의 실시간 혼잡도 표시
- 시간대별 혼잡도 추이 차트
- 열차별 상세 혼잡도 정보
- 실시간 데이터 자동 업데이트 (30초)

**데모 포인트**:
- 색상으로 구분된 직관적 혼잡도 표시 (🟢 여유, 🟡 보통, 🔴 혼잡)
- 차트를 통한 시간대별 패턴 확인
- 각 역별 승객 수, 다음 열차 정보 제공

### 🔍 역 검색
**경로**: http://localhost:3000/search

**데모 시나리오**:
1. 검색창에 "강남" 입력
2. 드롭다운에서 강남역 선택
3. 실시간 혼잡도 정보 확인
4. 다음 열차 3대의 혼잡도 및 도착 시간 확인
5. 10량 편성 중 가장 여유로운 차량 위치 확인

**주요 기능**:
- 실시간 검색 자동완성
- 역별 상세 혼잡도 정보
- 열차별 도착 시간 및 혼잡도
- 차량별(10량) 혼잡도 시각화
- 상황별 추천 메시지

### 🔮 혼잡도 예측
**경로**: http://localhost:3000/prediction

**데모 시나리오**:
1. 역 선택: 강남역
2. 예측 기간: 3시간 선택
3. AI 예측 차트 확인
4. 최적 이용 시간 추천 확인
5. 시간대별 상세 예측 정보 확인

**주요 기능**:
- AI 기반 1-6시간 혼잡도 예측
- 예측 신뢰도 표시
- 최적/최악 이용 시간 추천
- 날씨, 이벤트 영향도 반영
- 모델 정확도 정보 제공

### 🗺️ 경로 추천
**경로**: http://localhost:3000/recommendation

**데모 시나리오**:
1. 출발지: 강남역 선택
2. 도착지: 홍대입구역 선택
3. 개인 설정 조정:
   - 최대 혼잡도: 70%
   - 최대 도보시간: 10분
   - 최대 환승횟수: 1회
4. "경로 찾기" 버튼 클릭
5. 3개의 추천 경로 비교
6. 최적 경로의 단계별 정보 확인

**주요 기능**:
- 개인 맞춤형 경로 추천
- 실시간 혼잡도 반영
- 다중 경로 옵션 제공
- 상세한 이동 단계 안내
- 예상 비용, CO2 배출량 정보

---

## 🎯 데모 하이라이트

### 1. 실시간 데이터 시뮬레이션
- 시간대별 혼잡도 패턴 구현
- 역별 특성 반영 (강남역: 비즈니스 지구, 홍대입구역: 유흥가)
- 랜덤 변동으로 자연스러운 데이터 생성

### 2. AI 예측 알고리즘
- 과거 패턴 + 외부 요인(날씨, 이벤트) 종합 분석
- 시간이 멀수록 낮아지는 신뢰도 구현
- 90%+ 모델 정확도 시뮬레이션

### 3. 개인화 추천 시스템
- 사용자 선호도 기반 경로 필터링
- 추천 점수 알고리즘으로 최적 경로 선정
- 다양한 교통 수단 조합 제안

### 4. 직관적 UI/UX
- 색상 기반 혼잡도 시각화
- 반응형 디자인 (모바일 대응)
- 실시간 업데이트 애니메이션

---

## 🔧 API 테스트

### 주요 엔드포인트 테스트

```bash
# 1. 서버 상태 확인
curl http://localhost:3001/api/health

# 2. 전체 역 목록 조회
curl "http://localhost:3001/api/stations"

# 3. 실시간 혼잡도 조회
curl "http://localhost:3001/api/congestion/realtime?station_id=239"

# 4. 혼잡도 예측
curl "http://localhost:3001/api/prediction?station_id=239&duration_hours=3"

# 5. 경로 추천
curl -X POST http://localhost:3001/api/recommendations \
-H "Content-Type: application/json" \
-d '{
  "origin": {"lat": 37.4979, "lng": 127.0276},
  "destination": {"lat": 37.5565, "lng": 126.9240},
  "preferences": {"max_congestion": 70, "max_walking_time": 15}
}'
```

---

## 📊 데모용 데이터

### 기본 설정된 역 (서울 지하철 2호선)
- **강남역 (239)**: 37.4979, 127.0276 - 비즈니스 지구 특성
- **홍대입구역 (252)**: 37.5565, 126.9240 - 유흥가 특성  
- **건대입구역 (211)**: 37.5405, 127.0700 - 대학가 특성
- **잠실역 (216)**: 37.5133, 127.1000 - 쇼핑가 특성

### 시간대별 혼잡도 패턴
- **평일 출근시간 (7-9시)**: 90% 혼잡
- **평일 퇴근시간 (17-19시)**: 85% 혼잡
- **평일 낮시간 (10-16시)**: 50% 보통
- **평일 밤시간 (22-6시)**: 15% 여유
- **주말**: 전반적으로 30% 낮은 혼잡도

---

## 🎬 데모 발표 스크립트

### 1분 데모 스크립트

"안녕하세요. SmartTransit Predictor를 소개합니다.

**[대시보드 화면]**
현재 서울 지하철 2호선 주요 역의 실시간 혼잡도를 확인할 수 있습니다. 강남역은 현재 85% 혼잡 상태이고, 다음 열차는 2분 후 도착 예정입니다.

**[검색 화면]**
특정 역을 검색하면 상세한 정보를 볼 수 있습니다. 각 차량별 혼잡도까지 확인 가능하여 가장 여유로운 차량 위치를 알 수 있습니다.

**[예측 화면]**
AI가 향후 3시간의 혼잡도를 예측합니다. 30분 후가 가장 여유로울 것으로 예상되며, 91% 신뢰도로 예측했습니다.

**[경로 추천 화면]**
출발지와 도착지를 설정하고 개인 선호도를 입력하면 최적의 경로 3개를 추천해줍니다. 혼잡도, 소요시간, 환승 횟수를 모두 고려한 맞춤형 추천입니다.

이처럼 SmartTransit Predictor는 대중교통 이용의 편의성을 크게 향상시킬 수 있습니다."

---

## 🔍 문제해결

### 일반적인 문제
1. **포트 충돌**: 다른 포트 사용 (.env 파일 수정)
2. **패키지 오류**: `npm install` 재실행
3. **데이터베이스 오류**: data 폴더 삭제 후 재시작
4. **CORS 오류**: 백엔드 서버 먼저 실행 확인

### 개발 모드
- 백엔드 자동 재시작: nodemon 사용
- 프론트엔드 핫 리로드: React 개발 서버
- API 로그: 콘솔에서 모든 요청/응답 확인 가능

**데모 준비 완료! 🎉**